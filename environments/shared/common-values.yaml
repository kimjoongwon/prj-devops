# Shared values across all environments
# Common configurations for all deployments

# Global image pull secrets
# ESO automatically generates harbor-docker-secret for Harbor registry access
imagePullSecrets:
  - name: harbor-docker-secret

# Common service account configuration
serviceAccount:
  create: true
  automount: true
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT-ID:role/ServiceRole

# Common security settings
podSecurityContext:
  fsGroup: 2000

securityContext:
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000

# Common service configuration
service:
  type: ClusterIP
  port: 80
  targetPort: 80

# Common ingress settings
ingress:
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "1000m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "300"

# Common resource defaults
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

# Common volume mounts for logs
volumeMounts:
  - name: tmp-volume
    mountPath: /tmp
  - name: var-cache-volume
    mountPath: /var/cache/nginx
  - name: var-run-volume
    mountPath: /var/run

volumes:
  - name: tmp-volume
    emptyDir: {}
  - name: var-cache-volume
    emptyDir: {}
  - name: var-run-volume
    emptyDir: {}

# Common node selector
nodeSelector:
  kubernetes.io/os: linux

# Common tolerations
tolerations: []

# Common affinity rules
affinity: {}

# Global cert-manager configuration
global:
  certManager:
    email: "wallydevplan@gmail.com"
