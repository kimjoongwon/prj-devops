# Plate API Backend Chart 기본 값 파일
# Kubernetes에 배포할 백엔드 서버 설정
# 환경별 오버라이드: values-prod.yaml, values-stg.yaml

replicaCount: 1

# Backend 애플리케이션 설정
backend:
  image:
    repository: harbor.cocdev.co.kr/stg-server/server
    tag: "latest"
    pullPolicy: IfNotPresent
  port: 3006
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi

# Harbor registry authentication
imagePullSecrets:
  - name: harbor-docker-secret

service:
  type: LoadBalancer
  port: 80
  targetPort: 3006

# 애플리케이션 환경변수 Secret 설정
appSecrets:
  enabled: true # Secret 환경변수 주입 활성화
  secretName: app-env-secrets # Kubernetes Secret 이름
  # envFrom으로 전체 Secret을 환경변수로 주입
  # 새 환경변수 추가 시 OpenBao KV에만 추가하면 자동 동기화됨
  # 개별 envVars 매핑이 더 이상 필요하지 않음