# OpenBao 토큰 시크릿
# ClusterSecretStore에서 OpenBao 인증에 사용
{{- if .Values.openbao.token.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.openbao.auth.tokenSecretRef.name }}
  namespace: {{ .Values.openbao.token.namespace }}
  labels:
    {{- include "openbao-cluster-secrets-manager.labels" . | nindent 4 }}
    app.kubernetes.io/component: openbao-token
type: Opaque
data:
  # 토큰 값은 이미 base64 인코딩된 상태로 저장
  {{ .Values.openbao.auth.tokenSecretRef.key }}: {{ .Values.openbao.token.value | quote }}
{{- end }}
