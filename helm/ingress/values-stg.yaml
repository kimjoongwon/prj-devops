# Ingress Values - Staging
# plate-stg namespace의 모든 서비스 ingress 관리

# App name (default: plate)
appName: plate

ingress:
  enabled: true
  name: "cocdev-ingress"
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    ingress.kubernetes.io/ssl-redirect: "false"  # Allow HTTP for staging
    nginx.ingress.kubernetes.io/rate-limit: "100"
    nginx.ingress.kubernetes.io/rate-limit-window: "1m"
  
  hosts:
    - host: stg.cocdev.co.kr
      paths:
        # Frontend
        - path: /
          pathType: Prefix
          backend:
            service:
              name: fe-web
              port:
                number: 80
        # Backend API
        - path: /api
          pathType: Prefix
          backend:
            service:
              name: be-server
              port:
                number: 8080
  
  tls:
    - secretName: web-stg-tls
      hosts:
        - stg.cocdev.co.kr